class Api{constructor(){const t=this.constructor;if(globalThis[t.name]instanceof t)return globalThis[t.name];globalThis[t.name]=this,this.cache={},this.lastTimestamp=0;const s=globalThis.api;for(const t in s){const i=s[t];this[t]="function"==typeof i?(...n)=>{const a=Date.now();a>this.lastTimestamp&&(this.cache={},this.lastTimestamp=a);const c=`${t}_${JSON.stringify(n)}`;if(this.cache.hasOwnProperty(c))return this.cache[c];const o=i.apply(s,n);return this.cache[c]=o,o}:i}}static{new this}} 